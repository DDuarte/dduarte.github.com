<!DOCTYPE html>
<html>
    <head>
        <title>TrinityCore : conditions</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">TrinityCore</a></span>
                            </li>
                                                    <li>
                                <span><a href="TrinityCore-Home_330427.html">TrinityCore Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Databases_10682459.html">Databases</a></span>
                            </li>
                                                    <li>
                                <span><a href="World_331623.html">World</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            TrinityCore : conditions
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
    
            Created by <span class='author'> kingpin</span>, last modified by <span class='editor'> aokromes</span> on Jul 30, 2014
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><code><code><a href="World_331623.html">Back-to:World</a></code></code></p><p><strong>The `conditions` table</strong></p><p>This table allows you to define conditions for various systems - Gossip, loot etc.</p><p><strong>Structure</strong></p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><strong>Field</strong></p></td><td class="confluenceTd"><p><strong>Type</strong></p></td><td class="confluenceTd"><p><strong>Attributes</strong></p></td><td class="confluenceTd"><p><strong>Key</strong></p></td><td class="confluenceTd"><p><strong>Null</strong></p></td><td class="confluenceTd"><p><strong>Default</strong></p></td><td class="confluenceTd"><p><strong>Extra</strong></p></td><td class="confluenceTd"><p><strong>Comment</strong></p></td></tr><tr><td class="confluenceTd"><p><a href="conditions_330992.html">SourceTypeOrReferenceId</a></p></td><td class="confluenceTd"><p>mediumint(8)</p></td><td class="confluenceTd"><p>signed</p></td><td class="confluenceTd"><p>PRI</p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="conditions_330992.html">SourceGroup</a></p></td><td class="confluenceTd"><p>mediumint(8)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p>PRI</p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="conditions_330992.html">SourceEntry</a></p></td><td class="confluenceTd"><p>mediumint(8)</p></td><td class="confluenceTd"><p>signed</p></td><td class="confluenceTd"><p>PRI</p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><th class="confluenceTh"><p><a href="conditions_330992.html">SourceId</a></p></th><td class="confluenceTd"><p>mediumint(8)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p>PRI</p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="conditions_330992.html">ElseGroup</a></p></td><td class="confluenceTd"><p>mediumint(8)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p>PRI</p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="conditions_330992.html">ConditionTypeOrReference</a></p></td><td class="confluenceTd"><p>mediumint(8)</p></td><td class="confluenceTd"><p>signed</p></td><td class="confluenceTd"><p>PRI</p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><th class="confluenceTh"><p><a href="conditions_330992.html">ConditionTarget</a></p></th><td class="confluenceTd"><p>tinyint(3)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="conditions_330992.html">ConditionValue1</a></p></td><td class="confluenceTd"><p>mediumint(8)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p>PRI</p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="conditions_330992.html">ConditionValue2</a></p></td><td class="confluenceTd"><p>mediumint(8)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p>PRI</p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="conditions_330992.html">ConditionValue3</a></p></td><td class="confluenceTd"><p>mediumint(8)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p>PRI</p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="conditions_330992.html">NegativeCondition</a></p></td><td class="confluenceTd"><p>tinyint(3)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="conditions_330992.html">ErrorType</a></p></td><td class="confluenceTd"><p>mediumint(8)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="conditions_330992.html">ErrorTextId</a></p></td><td class="confluenceTd"><p>mediumint(8)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="conditions_330992.html">ScriptName</a></p></td><td class="confluenceTd"><p>char(64)</p></td><td class="confluenceTd"><p>signed</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>&quot;</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="conditions_330992.html">Comment</a></p></td><td class="confluenceTd"><p>varchar(255)</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr></tbody></table></div><p><strong>Description of the fields</strong></p><h3 id="conditions-SourceTypeOrReferenceId">SourceTypeOrReferenceId</h3><p>if negative, then it is a reference template</p><div class="panel" style="border-width: 1px;"><div class="panelContent">
<p>CONDITION_SOURCE_TYPE_NONE = 0,<br /> CONDITION_SOURCE_TYPE_CREATURE_LOOT_TEMPLATE = 1,<br /> CONDITION_SOURCE_TYPE_DISENCHANT_LOOT_TEMPLATE = 2,<br /> CONDITION_SOURCE_TYPE_FISHING_LOOT_TEMPLATE = 3,<br /> CONDITION_SOURCE_TYPE_GAMEOBJECT_LOOT_TEMPLATE = 4,<br /> CONDITION_SOURCE_TYPE_ITEM_LOOT_TEMPLATE = 5,<br /> CONDITION_SOURCE_TYPE_MAIL_LOOT_TEMPLATE = 6,<br /> CONDITION_SOURCE_TYPE_MILLING_LOOT_TEMPLATE = 7,<br /> CONDITION_SOURCE_TYPE_PICKPOCKETING_LOOT_TEMPLATE = 8,<br /> CONDITION_SOURCE_TYPE_PROSPECTING_LOOT_TEMPLATE = 9,<br /> CONDITION_SOURCE_TYPE_REFERENCE_LOOT_TEMPLATE = 10,<br /> CONDITION_SOURCE_TYPE_SKINNING_LOOT_TEMPLATE = 11,<br /> CONDITION_SOURCE_TYPE_SPELL_LOOT_TEMPLATE = 12,<br /> CONDITION_SOURCE_TYPE_SPELL_IMPLICIT_TARGET = 13,<br /> CONDITION_SOURCE_TYPE_GOSSIP_MENU = 14,<br /> CONDITION_SOURCE_TYPE_GOSSIP_MENU_OPTION = 15,<br /> CONDITION_SOURCE_TYPE_CREATURE_TEMPLATE_VEHICLE = 16,<br /> CONDITION_SOURCE_TYPE_SPELL = 17,<br /> CONDITION_SOURCE_TYPE_SPELL_CLICK_EVENT = 18,<br /> CONDITION_SOURCE_TYPE_QUEST_ACCEPT = 19,<br /> CONDITION_SOURCE_TYPE_QUEST_SHOW_MARK = 20,<br /> CONDITION_SOURCE_TYPE_VEHICLE_SPELL = 21,<br /> CONDITION_SOURCE_TYPE_SMART_EVENT = 22,<br /> CONDITION_SOURCE_TYPE_NPC_VENDOR = 23,<br /> CONDITION_SOURCE_TYPE_SPELL_PROC = 24,<br /> CONDITION_SOURCE_TYPE_MAX = 25</p>
</div></div><h3 id="conditions-SourceGroup">SourceGroup</h3><p>See below</p><h3 id="conditions-SourceEntry">SourceEntry</h3><p>See below</p><h3 id="conditions-ElseGroup">ElseGroup</h3><p>Allows building grouped conditions - all entries belonging to the same condition (same <a href="conditions_330992.html">SourceType</a>, <a href="conditions_330992.html">SourceGroup</a> and <a href="conditions_330992.html">SourceEntry</a>) that share the same number in ElseGroup, define one group. The <strong>entire condition</strong> is met when <strong>any of its groups</strong> is met (logical OR). The <strong>group</strong> is met when <strong>all of its entries are met</strong> (logical AND).</p><h3 id="conditions-ConditionTypeOrReference">ConditionTypeOrReference</h3><p>See below</p><div class="panel" style="border-width: 1px;"><div class="panelContent">
<p>CONDITION_NONE = 0, <br /> CONDITION_AURA = 1, <br /> CONDITION_ITEM = 2, <br /> CONDITION_ITEM_EQUIPPED = 3, <br /> CONDITION_ZONEID = 4, <br /> CONDITION_REPUTATION_RANK = 5, <br /> CONDITION_TEAM = 6, <br /> CONDITION_SKILL = 7, <br /> CONDITION_QUESTREWARDED = 8, <br /> CONDITION_QUESTTAKEN = 9, <br /> CONDITION_DRUNKENSTATE = 10,<br /> CONDITION_WORLD_STATE = 11, <br /> CONDITION_ACTIVE_EVENT = 12, <br /> CONDITION_INSTANCE_INFO = 13, <br /> CONDITION_QUEST_NONE = 14, <br /> CONDITION_CLASS = 15, <br /> CONDITION_RACE = 16, <br /> CONDITION_ACHIEVEMENT = 17, <br /> CONDITION_TITLE = 18, <br /> CONDITION_SPAWNMASK = 19, <br /> CONDITION_GENDER = 20, <br /> <span style="color: rgb(33,63,77);">CONDITION_UNIT_STATE</span> = 21, <br /> CONDITION_MAPID = 22, <br /> CONDITION_AREAID = 23, <br /> CONDITION_UNUSED_24 = 24, <br /> CONDITION_SPELL = 25, <br /> CONDITION_PHASEMASK = 26, <br /> CONDITION_LEVEL = 27,<br /> CONDITION_QUEST_COMPLETE = 28,<br /> CONDITION_NEAR_CREATURE = 29, <br /> CONDITION_NEAR_GAMEOBJECT = 30,<br /> CONDITION_OBJECT_ENTRY = 31,<br /> CONDITION_TYPE_MASK = 32,<br /> CONDITION_RELATION_TO = 33,<br /> CONDITION_REACTION_TO = 34,<br /> CONDITION_DISTANCE_TO = 35,<br /> CONDITION_ALIVE = 36,<br /> CONDITION_HP_VAL = 37,<br /> CONDITION_HP_PCT = 38,<br /> CONDITION_MAX = 39</p>
</div></div><h3 id="conditions-ConditionTarget">ConditionTarget</h3><p>Allows selecting an object for which conditions will be checked. Available objects are dependant on SourceTypeOrReferenceId, for details see respective source type reference.</p><h3 id="conditions-ConditionValue1">ConditionValue1</h3><p>See below</p><h3 id="conditions-ConditionValue2">ConditionValue2</h3><p>See below</p><h3 id="conditions-ConditionValue3">ConditionValue3</h3><p>See below</p><h3 id="conditions-NegativeCondition">NegativeCondition</h3><p>If set to 1, the condition will be &quot;inverted&quot;</p><p>Example: CONDITION_AURA with NegativeCondition will be true when the player does NOT have the aura.</p><h3 id="conditions-ErrorType">ErrorType</h3><p>Id from <a href="https://github.com/TrinityCore/TrinityCore/blob/master/src/server/game/Miscellaneous/SharedDefines.h#L830" class="external-link" rel="nofollow">/src/server/game/Miscellaneous/SharedDefines.h:830</a>. Will be displayed only for the below condition <a href="conditions_330992.html">source type</a>:</p><div class="panel" style="border-width: 1px;"><div class="panelContent">
<p>CONDITION_SOURCE_TYPE_SPELL = 17</p>
</div></div><h3 id="conditions-ErrorTextId">ErrorTextId</h3><p>Id from <a href="https://github.com/TrinityCore/TrinityCore/blob/master/src/server/game/Miscellaneous/SharedDefines.h#L1024" class="external-link" rel="nofollow">/src/server/game/Miscellaneous/SharedDefines.h:1024</a>. Will be displayed only for the below condition <a href="conditions_330992.html">source type</a>:</p><div class="panel" style="border-width: 1px;"><div class="panelContent">
<p>CONDITION_SOURCE_TYPE_SPELL = 17</p>
</div></div><p>(ErrorType must be <span class="n">SPELL_FAILED_CUSTOM_ERROR</span> (<span class="mi">172) otherwise 0</span>)</p><h3 id="conditions-ScriptName">ScriptName</h3><p>The ScriptName the condition uses, if any. Default is NULL</p><h3 id="conditions-Comment">Comment</h3><p>Explanation of this condition or reference</p><h3 id="conditions-Explanationofconditiontypes">Explanation of condition types</h3><p>The content of the <a href="conditions_330992.html">SourceGroup</a> and <a href="conditions_330992.html">SourceEntry</a> fields depends on the <a href="conditions_330992.html">SourceTypeOrReferenceId</a></p><p>*<strong>CONDITION_SOURCE_TYPE_NONE = 0</strong></p><p><strong>Only used in Reference Templates! See below.</strong></p><p>*<strong>CONDITION_SOURCE_TYPE_ * _LOOT_TEMPLATE = 1 - 12</strong> <br /> *<strong>SourceGroup: loot entry (</strong>_loot_template.Entry or Reference_loot_template.Entry) <br /> *<strong>SourceEntry: item id (</strong>_loot_template.Item or Reference_loot_template.Item)</p><ul><li><ul><li>ConditionTarget: always 0</li></ul></li></ul><p><em>example: if you use type 1 (creature_loot_template) then use the entry and item fields from that table</em></p><p>*<strong>CONDITION_SOURCE_TYPE_SPELL_IMPLICIT_TARGET = 13</strong></p><ul><li><ul><li>SourceGroup: mask of effects to be affected by condition (1 - EFFECT_0, 2 - EFFECT_1, 4 - EFFECT_2 - don't use wowhead to get number of effects, data from wowhead sometimes doesn't match real effect number)</li><li>SourceEntry: spell (Spell Id from <a class="createlink" href="/pages/createpage.action?spaceKey=tc&amp;title=Spell.dbc+tc2&amp;linkCreation=true&amp;fromPageId=330992">Spell.dbc</a>)</li><li>ConditionTarget:<ul><li>0 - Potential target of the spell</li><li>1 - Caster of the spell</li></ul></li></ul></li></ul><p>Notes:</p><ul><li>this condition source type allows to define a filter for possible spell effect targets, so only targets matching condition will be selected as implicit targets of the spell. Only target types: <em>AREA</em>, <em>NEARBY</em> and <em>CONE</em> are allowed to be filtered. This source type affects only targets selected by spell, it doesn't affect spell target selected by player on cast, to affect that target use CONDITION_SOURCE_TYPE_SPELL.</li><li>to restrict targets to player's only use CONDITION_TYPEMASK with TYPEMASK_PLAYER + TYPEMASK_CORPSE to allow targeting dead players.</li><li>remember that conditions with the same value ElseGroup will be used to make logical AND check, so to allow different targets for the same spell effect you have to set ElseGroup respectively.</li><li>if you're looking for old CONDITION_SOURCE_TYPE_SPELL_SCRIPT_TARGET - use this condition source type instead</li></ul><p>*<strong>CONDITION_SOURCE_TYPE_GOSSIP_MENU = 14</strong></p><ul><li><ul><li>SourceGroup: gossip menu entry (<a href="gossip_menu_332125.html#gossip_menu-entry">gossip_menu.entry</a>)</li><li>SourceEntry: gossip menu text id (<a href="gossip_menu_332125.html#gossip_menu-text_id">gossip_menu.text_id</a>)</li><li>ConditionTarget:<ul><li>0 - Player for which gossip text is shown</li><li>1 - WorldObject providing gossip</li></ul></li></ul></li></ul><p>*<strong>CONDITION_SOURCE_TYPE_GOSSIP_MENU_OPTION = 15</strong></p><ul><li><ul><li>SourceGroup: gossip menu entry (<a href="gossip_menu_option_332091.html#gossip_menu_option-menu_id">gossip_menu_option.menu_id</a>)</li><li>SourceEntry: gossip menu option id (<a href="gossip_menu_option_332091.html#gossip_menu_option-id">gossip_menu_option.id</a>)</li><li>ConditionTarget:<ul><li>0 - Player for which gossip text is shown</li><li>1 - WorldObject providing gossip</li></ul></li></ul></li></ul><p>*<strong>CONDITION_SOURCE_TYPE_CREATURE_TEMPLATE_VEHICLE = 16</strong></p><ul><li><ul><li>SourceGroup: always 0</li><li>SourceEntry: creature entry (<a href="creature_template_331288.html#creature_template-entry">creature_template.entry</a>)</li><li>ConditionTarget:<ul><li>0 - Player riding a vehicle</li><li>1 - Vehicle creature</li></ul></li></ul></li></ul><p>Note: creature entry must be a vehicle. Example: If this is used with CONDITION_AREA, the player will be dismounted of the vehicle if the player leaves that area.</p><p>*<strong>CONDITION_SOURCE_TYPE_SPELL = 17</strong></p><ul><li style="list-style-type: none;background-image: none;"><ul><li>SourceGroup: always 0</li><li>SourceEntry: spell (Spell Id from <a href="Spell_334025.html">Spell.dbc</a>)</li><li>ConditionTarget:<ul><li>0 - Caster of the spell</li><li>1 - Explicit target of the spell (only for spells which take object selected by caster into account)</li></ul></li></ul></li></ul><p>Notes:</p><ul><li>this source type allows you to define caster/explicit target requirements for spell to be cast.</li><li>explicit target of the spell is the target which is selected by player during cast, not all spells take that target into account. non-explicit targets of the spell (the ones which are selected by spell like area or nearby targets for example) are not affected by this condition source type, if you want to affect those use CONDITION_SOURCE_TYPE_SPELL_IMPLICIT_TARGET instead.</li><li>if you're looking for old CONDITION_SOURCE_TYPE_ITEM_REQUIRED_TARGET - use this condition source type instead (ConditionTarget = 1 allows you to set requirements for a given spell, so to use this condition type you need spellid of the spell cast on item use)</li><li>remember that conditions with the same value ElseGroup will be used to make logical AND check, so to allow different targets for the same spell effect you have to set ElseGroup respectively.</li></ul><p>*<strong>CONDITION_SOURCE_TYPE_SPELL_CLICK_EVENT = 18</strong></p><ul><li><ul><li>SourceGroup: creature entry (<a href="npc_spellclick_spells_333438.html#npc_spellclick_spells-npc_entry">npc_spellclick_spells.npc_entry</a>)</li><li>SourceEntry: spell (<a href="npc_spellclick_spells_333438.html#npc_spellclick_spells-spell_id">npc_spellclick_spells.spell_id</a>)</li><li>ConditionTarget:<ul><li>0 - Clicker</li><li>1 - Spellclick target (clickee)</li></ul></li></ul></li></ul><p>*<strong>CONDITION_SOURCE_TYPE_QUEST_ACCEPT = 19</strong></p><ul><li><ul><li>SourceGroup: ?</li><li>SourceEntry: Quest <a href="quest_template_333709.html#quest_template-id">id</a>)</li><li>ConditionTarget: always 0</li></ul></li></ul><p>*<strong>CONDITION_SOURCE_TYPE_QUEST_SHOW_MARK = 20</strong></p><ul><li><ul><li>SourceGroup: ?</li><li>SourceEntry: Quest <a href="quest_template_333709.html#quest_template-id">id</a>)</li><li>ConditionTarget: always 0</li></ul></li></ul><p>*<strong>CONDITION_SOURCE_TYPE_VEHICLE_SPELL = 21</strong></p><ul><li style="list-style-type: none;background-image: none;"><ul><li>SourceGroup: creature entry (<a href="creature_template_331288.html#creature_template-entry">creature_template.entry</a>)</li><li>SourceEntry: spell (Spell Id from <a href="Spell_334025.html">Spell.dbc</a>)</li><li>ConditionTarget:<ul><li>0 - Player for which spell bar is shown</li><li>1 - Vehicle creature</li></ul></li></ul></li></ul><p>Note: it will show or hide spells in vehicle spell bar.</p><p>*<strong>CONDITION_SOURCE_TYPE_SMART_EVENT = 22</strong></p><ul><li><ul><li>SourceGroup: Id (<a href="smart_scripts_333856.html#smart_scripts-id">smart_scripts.id</a>) + 1</li><li>SourceEntry: EntryOrGuid (<a href="smart_scripts_333856.html#smart_scripts-entryorguid">smart_scripts.entryorguid</a>)</li><li>SourceId: SourceType (<a href="smart_scripts_333856.html#smart_scripts-source_type">smart_scripts.source_type</a>)</li><li>ConditionTarget:<ul><li>0 - Invoker</li><li>1 - Object</li></ul></li></ul></li></ul><p>*<strong>CONDITION_SOURCE_TYPE_NPC_VENDOR = 23</strong></p><ul><li><ul><li>SourceGroup: vendor entry (<a href="npc_vendor_333481.html#npc_vendor-entry">npc_vendor.entry</a>)</li><li>SourceEntry: item entry (<a href="npc_vendor_333481.html#npc_vendor-item">npc_vendor.item</a>)</li><li>SourceId: always 0</li></ul></li></ul><p>*<strong>CONDITION_SOURCE_TYPE_SPELL_PROC = 24</strong></p><ul><li><ul><li>SourceGroup: always 0</li><li>SourceEntry: spell id of aura which triggers the proc</li><li>ConditionTarget:<ul><li>0 - Actor</li><li>1 - ActionTarget</li></ul></li></ul></li></ul><h3 id="conditions-ExplanationofConditionValueXfields">Explanation of ConditionValueX fields</h3><p>*<strong>CONDITION_NONE = 0</strong></p><p><strong>Never used</strong></p><p>*<strong>CONDITION_AURA = 1</strong></p><ul><li style="list-style-type: none;background-image: none;"><ul><li>ConditionValue1: spell (Spell Id from <a href="Spell_334025.html">Spell.dbc</a>)</li><li>ConditionValue2: effect index (0-2)</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_ITEM = 2</strong></p><ul><li><ul><li>ConditionValue1: item entry (<a href="item_template_333102.html#item_template-entry">item_template.entry</a>)</li><li>ConditionValue2: item count</li><li>ConditionValue3: in bank? (true=1)</li></ul></li></ul><p>*<strong>CONDITION_ITEM_EQUIPPED = 3</strong></p><ul><li><ul><li>ConditionValue1: item entry (<a href="item_template_333102.html#item_template-entry">item_template.entry</a>)</li><li>ConditionValue2: always 0</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_ZONEID = 4</strong></p><ul><li><ul><li>ConditionValue1: zone ID where this condition will be true</li><li>ConditionValue2: always 0</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_REPUTATION_RANK = 5</strong></p><ul><li style="list-style-type: none;background-image: none;"><ul><li>ConditionValue1: faction template ID (from <a href="Faction_331806.html">Faction.dbc</a>)</li><li>ConditionValue2: rank (Hated - 1, Hostile - 2, Unfriendly - 4, Neutral - 8, Friendly - 16, Honored - 32, Revered - 64, Exalted - 128) Flags can be added together for all ranks the condition should be true in.</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_TEAM = 6</strong></p><ul><li><ul><li>ConditionValue1: team id (469 - Alliance, 67 - Horde)</li><li>ConditionValue2: always 0</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_SKILL = 7</strong></p><ul><li style="list-style-type: none;background-image: none;"><ul><li>ConditionValue1: skill required, see <a href="SkillLine_333838.html">SkillLine.dbc</a></li><li>ConditionValue2: skill value</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_QUESTREWARDED = 8</strong></p><ul><li><ul><li>ConditionValue1: (<a href="quest_template_333709.html#quest_template-id">quest_template.id</a>)</li><li>ConditionValue2: always 0</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_QUESTTAKEN = 9</strong></p><ul><li><ul><li>ConditionValue1: (<a href="quest_template_333709.html#quest_template-id">quest_template.id</a>)</li><li>ConditionValue2: always 0</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_DRUNKENSTATE = 10</strong></p><ul><li><ul><li>ConditionValue1: drunken state: 0 - sober; 1 - tipsy, 2 - drunk, 3 - smashed</li><li>ConditionValue2: always 0</li><li>ConditionValue3: always 0</li><li>(Formerly AD_COMMISSION_AURA)</li></ul></li></ul><p>*<strong>CONDITION_WORLD_STATE = 11</strong></p><ul><li><ul><li>ConditionValue1: world state index</li><li>ConditionValue2: world state value</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_ACTIVE_EVENT= 12</strong></p><ul><li><ul><li>ConditionValue1: event entry (<a href="game_event_331951.html#game_event-eventEntry">game_event.eventEntry</a>)</li><li>ConditionValue2: always 0</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_INSTANCE_INFO = 13</strong></p><ul><li><ul><li>ConditionValue1: entry //see corresponding script source files for more info</li><li>ConditionValue2: data //see corresponding script source files for more info</li><li>ConditionValue3: type:<ul><li>0 - INSTANCE_INFO_DATA</li><li>1 - INSTANCE_INFO_DATA64</li><li>2 - INSTANCE_INFO_BOSS_STATE</li></ul></li></ul></li></ul><p>*<strong>CONDITION_QUEST_NONE = 14</strong></p><ul><li><ul><li>ConditionValue1: (<a href="quest_template_333709.html#quest_template-id">quest_template.id</a>)</li><li>ConditionValue2: always 0</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_CLASS = 15</strong></p><ul><li style="list-style-type: none;background-image: none;"><ul><li>ConditionValue1: class mask. Add flags together for all classes condition should be true for. See <a href="ChrClasses_330979.html">ChrClasses.dbc</a></li><li>ConditionValue2: always 0</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_RACE = 16</strong></p><ul><li style="list-style-type: none;background-image: none;"><ul><li>ConditionValue1: race the player must be. Add flags together for all races condition should be true for. See <a href="ChrRaces_330983.html">ChrRaces.dbc</a></li><li>ConditionValue2: always 0</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_ACHIEVEMENT = 17</strong></p><ul><li style="list-style-type: none;background-image: none;"><ul><li>ConditionValue1: achievement ID from <a href="Achievement_330468.html">Achievement.dbc</a></li><li>ConditionValue2: always 0</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_TITLE = 18</strong></p><ul><li style="list-style-type: none;background-image: none;"><ul><li>ConditionValue1: title ID from <a href="CharTitles_330699.html">CharTitles.dbc</a></li><li>ConditionValue2: always 0</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_SPAWNMASK = 19</strong></p><ul><li style="list-style-type: none;background-image: none;"><ul><li>ConditionValue1: spawnMask (see <a href="gameobject_331992.html#gameobject-spawnMask">Gameobject.spawnMask</a>/<a href="creature_331263.html#creature-spawnMask">Creature.spawnMask</a>)</li><li>ConditionValue2: always 0</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_GENDER = 20</strong></p><ul><li style="list-style-type: none;background-image: none;"><ul><li>ConditionValue1: 0 = Male, 1 = Female, 2 = None</li><li>ConditionValue2: always 0</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong><span style="color: rgb(33,63,77);">CONDITION_UNIT_STATE = 21</span></strong></p><ul><li style="list-style-type: none;background-image: none;"><ul><li>ConditionValue1: UnitState (<a href="https://github.com/TrinityCore/TrinityCore/blob/master/src/server/game/Entities/Unit/Unit.h#L466" class="external-link" rel="nofollow">enum</a>)<span style="color: rgb(33,63,77);"> </span></li><li>ConditionValue2: always 0</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_MAPID = 22</strong></p><ul><li><ul><li>ConditionValue1: Map entry</li><li>ConditionValue2: always 0</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_AREAID = 23</strong></p><ul><li><ul><li>ConditionValue1: Area ID</li><li>ConditionValue2: always 0</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_SPELL = 25</strong></p><ul><li style="list-style-type: none;background-image: none;"><ul><li>ConditionValue1: spell (Spell Id from <a href="Spell_334025.html">Spell.dbc</a>)</li><li>ConditionValue2: always 0</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_PHASEMASK = 26</strong></p><ul><li><ul><li>ConditionValue1: phasemask value</li><li>ConditionValue2: always 0</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_LEVEL = 27</strong></p><ul><li><ul><li>ConditionValue1: Player level</li><li>ConditionValue2: Optional<ul><li>0 = Level must be equal</li><li>1 = Level must be higher</li><li>2 = Level must be lesser</li><li>3 = Level must be equal or higher</li><li>4 = Level must be equal or lower</li></ul></li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_QUEST_COMPLETE = 28</strong></p><ul><li><ul><li>ConditionValue1: Quest <a href="quest_template_333709.html#quest_template-id">id</a></li><li>ConditionValue2: Always 0</li><li>ConditionValue3: always 0</li></ul></li></ul><p><em>Only if player has all quest objectives complete, but not yet rewarded.</em></p><p>*<strong>CONDITION_NEAR_CREATURE = 29</strong></p><ul><li><ul><li>ConditionValue1: Creature <a href="creature_template_331288.html#creature_template-entry">entry</a></li><li>ConditionValue2: Distance (yd)</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_NEAR_GAMEOBJECT = 30</strong></p><ul><li><ul><li>ConditionValue1: Gameobject <a href="gameobject_template_332005.html#gameobject_template-entry">entry</a></li><li>ConditionValue2: Distance (yd)</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_OBJECT_ENTRY= 31</strong></p><ul><li><ul><li>ConditionValue1: TypeID - available object types:<ul><li>3 - TYPEID_UNIT</li><li>4 - TYPEID_PLAYER</li><li>5 - TYPEID_GAMEOBJECT</li><li>7 - TYPEID_CORPSE (player corpse, after released spirit)</li></ul></li><li>ConditionValue2: Entry<ul><li>0 for any object of given type</li><li>[<br /> Gameobject entry|Gameobject template tc2#entry] for TypeID = TYPEID_GAMEOBJECT</li><li><a href="creature_template_331288.html#creature_template-entry">Creature entry</a> for TypeID = TYPEID_UNIT</li></ul></li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_TYPE_MASK= 32</strong></p><ul><li><ul><li>ConditionValue1: TypeMask - a bitmask of following object types:<ul><li>0x0008 - TYPEMASK_UNIT</li><li>0x0010 - TYPEMASK_PLAYER</li><li>0x0020 - TYPEMASK_GAMEOBJECT</li><li>0x0080 - TYPEMASK_CORPSE (player corpse, after released spirit)</li></ul></li><li>ConditionValue2: always 0</li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_RELATION_TO= 33</strong></p><ul><li><ul><li>ConditionValue1: target to which relation is checked - one of ConditionTargets available in current SourceType.</li><li>ConditionValue2: RelationType - defines relation of current ConditionTarget to target specified in ConditionValue1.<ul><li>0 - RELATION_SELF</li><li>1 - RELATION_IN_PARTY</li><li>2 - RELATION_IN_RAID_OR_PARTY</li><li>3 - RELATION_OWNED_BY (ConditionTarget is owned by ConditionValue1)</li><li>4 - RELATION_PASSENGER_OF (ConditionTarget is passenger of ConditionValue1)</li><li>5 - RELATION_CREATED_BY (ConditionTarget is summoned by ConditionValue1)</li></ul></li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_REACTION_TO= 34</strong></p><ul><li><ul><li>ConditionValue1: target to which reaction is checked - one of ConditionTargets available in current SourceType.</li><li>ConditionValue2: rankMask- defines reactions of current ConditionTarget to target specified in ConditionValue1 which are allowed. This is a bitmask, flags for reactions are:<ul><li>1 - Hated</li><li>2 - Hostile</li><li>4 - Unfriendly</li><li>8 - Neutral</li><li>16 - Friendly</li><li>32 - Honored</li><li>64 - Revered</li><li>128 - Exalted</li></ul></li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_DISTANCE_TO= 35</strong></p><ul><li><ul><li>ConditionValue1: target to which distance is checked - one of ConditionTargets available in current SourceType.</li><li>ConditionValue2: distance - defines distance between current ConditionTarget and target specified in ConditionValue1.</li><li>ConditionValue3: ComparisionType:<ul><li>0 = distance must be equal to ConditionValue2</li><li>1 = distance must be higher than ConditionValue2</li><li>2 = distance must be lesser than ConditionValue2</li><li>3 = distance must be equal or higher than ConditionValue2</li><li>4 = distance must be equal or lower than ConditionValue2</li></ul></li></ul></li></ul><p>*<strong>CONDITION_ALIVE= 36</strong></p><ul><li><ul><li>ConditionValue1: always 0</li><li>ConditionValue2: always 0</li><li>ConditionValue3: always 0</li><li>NegativeCondition:<ul><li>0 (If target needs to be ALIVE)</li><li>1 (If target needs to be DEAD)<br /> <em>NOTE: A creature corpse and a creature that_looks_dead are two different things. One is actually dead and the other is just using an emote to appear dead.</em></li></ul></li></ul></li></ul><p>*<strong>CONDITION_HP_VAL = 37</strong></p><ul><li><ul><li>ConditionValue1: HP</li><li>ConditionValue2: ComparisionType:<ul><li>0 = HP must be equal</li><li>1 = HP must be higher</li><li>2 = HP must be lesser</li><li>3 = HP must be equal or higher</li><li>4 = HP must be equal or lower</li></ul></li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>CONDITION_HP_PCT = 38</strong></p><ul><li><ul><li>ConditionValue1: Percentage of max HP</li><li>ConditionValue2: ComparisionType:<ul><li>0 = Percentage of max HP must be equal</li><li>1 = Percentage of max HP must be higher</li><li>2 = Percentage of max HP must be lesser</li><li>3 = Percentage of max HP must be equal or higher</li><li>4 = Percentage of max HP must be equal or lower</li></ul></li><li>ConditionValue3: always 0</li></ul></li></ul><p>*<strong>REFERENCE TEMPLATES</strong></p><ul><li><ul><li>SourceTypeOrReferenceId : used as negative, for reference ID</li><li>SourceGroup  : always 0</li><li>SourceEntry  : always 0</li><li>ElseGroup  : OR modifier</li><li>ConditionTypeOrReference: <a href="conditions_330992.html">ConditionTypeOrReference</a></li><li>ConditionValue1  : see above</li><li>ConditionValue2  : see above</li><li>ConditionValue3  : see above</li><li>ErrorType  : see above</li><li>ErrorTextId  : see above</li><li>Comment  : see above</li></ul></li></ul>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer">
                <section class="footer-body">
                    <p>Document generated by Confluence on Nov 07, 2014 21:59</p>
                </section>
            </div>
        </div>     </body>
</html>
