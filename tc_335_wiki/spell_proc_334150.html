<!DOCTYPE html>
<html>
    <head>
        <title>TrinityCore : spell_proc</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">TrinityCore</a></span>
                            </li>
                                                    <li>
                                <span><a href="TrinityCore-Home_330427.html">TrinityCore Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Databases_10682459.html">Databases</a></span>
                            </li>
                                                    <li>
                                <span><a href="World_331623.html">World</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            TrinityCore : spell_proc
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
    
            Created by <span class='author'> kingpin</span>, last modified by <span class='editor'> aokromes</span> on Aug 02, 2014
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><code><code><a href="World_331623.html">Back-to:World</a></code></code></p><p><strong>The `spell_proc` table</strong></p><p><strong>Warning - this table is in development, should not be used yet, use spell_proc_event table instead</strong><br /> <code>table-no-description</code></p><p><strong>Structure</strong></p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><strong>Field</strong></p></td><td class="confluenceTd"><p><strong>Type</strong></p></td><td class="confluenceTd"><p><strong>Attributes</strong></p></td><td class="confluenceTd"><p><strong>Key</strong></p></td><td class="confluenceTd"><p><strong>Null</strong></p></td><td class="confluenceTd"><p><strong>Default</strong></p></td><td class="confluenceTd"><p><strong>Extra</strong></p></td><td class="confluenceTd"><p><strong>Comment</strong></p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_334150.html">spellId</a></p></td><td class="confluenceTd"><p>mediumint(8)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p>PRI</p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>Unique</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_334150.html">schoolMask</a></p></td><td class="confluenceTd"><p>tinyint(4)</p></td><td class="confluenceTd"><p>signed</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_334150.html">SpellFamilyName</a></p></td><td class="confluenceTd"><p>smallint(5)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_334150.html">SpellFamilyMask0</a></p></td><td class="confluenceTd"><p>int(10)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_334150.html">SpellFamilyMask1</a></p></td><td class="confluenceTd"><p>int(10)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_334150.html">SpellFamilyMask2</a></p></td><td class="confluenceTd"><p>int(10)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_334150.html">typeMask</a></p></td><td class="confluenceTd"><p>int(10)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_334150.html">spellTypeMask</a></p></td><td class="confluenceTd"><p>int(10)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_334150.html">spellPhaseMask</a></p></td><td class="confluenceTd"><p>int(10)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_334150.html">hitMask</a></p></td><td class="confluenceTd"><p>int(10)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_334150.html">attributesMask</a></p></td><td class="confluenceTd"><p>int(10)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_334150.html">ratePerMinute</a></p></td><td class="confluenceTd"><p>float</p></td><td class="confluenceTd"><p>signed</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_334150.html">chance</a></p></td><td class="confluenceTd"><p>float</p></td><td class="confluenceTd"><p>signed</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_334150.html">cooldown</a></p></td><td class="confluenceTd"><p>float</p></td><td class="confluenceTd"><p>signed</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_334150.html">charges</a></p></td><td class="confluenceTd"><p>float</p></td><td class="confluenceTd"><p>signed</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr></tbody></table></div><p><strong>Description of the fields</strong></p><h3 id="spell_proc-spellId">spellId</h3><p>The <a class="createlink" href="/pages/createpage.action?spaceKey=tc&amp;title=spell.dbc+tc2&amp;linkCreation=true&amp;fromPageId=334150">spell ID</a> that is capable to proc on an event.</p><h3 id="spell_proc-SchoolMask">SchoolMask</h3><p>This field contains a bitmask that controls on what types of spell damages the proc can be triggered. For example if an aura procs only when the unit it is casted upon is hit by shadow spells (spell 34914). To combine spell schools, just add the bit values.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>School ID</p></th><th class="confluenceTh"><p>Bit</p></th><th class="confluenceTh"><p>Name</p></th></tr><tr><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>1</p></td><td class="confluenceTd"><p>Physical</p></td></tr><tr><td class="confluenceTd"><p>1</p></td><td class="confluenceTd"><p>2</p></td><td class="confluenceTd"><p>Holy</p></td></tr><tr><td class="confluenceTd"><p>2</p></td><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>Fire</p></td></tr><tr><td class="confluenceTd"><p>3</p></td><td class="confluenceTd"><p>8</p></td><td class="confluenceTd"><p>Nature</p></td></tr><tr><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>16</p></td><td class="confluenceTd"><p>Frost</p></td></tr><tr><td class="confluenceTd"><p>5</p></td><td class="confluenceTd"><p>32</p></td><td class="confluenceTd"><p>Shadow</p></td></tr><tr><td class="confluenceTd"><p>6</p></td><td class="confluenceTd"><p>64</p></td><td class="confluenceTd"><p>Arcane</p></td></tr></tbody></table></div><h3 id="spell_proc-SpellFamilyName">SpellFamilyName</h3><p>This field controls what family name spells can proc the triggered spell.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>ID</p></th><th class="confluenceTh"><p>Family Name</p></th></tr><tr><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>Generic</p></td></tr><tr><td class="confluenceTd"><p>3</p></td><td class="confluenceTd"><p>Mage</p></td></tr><tr><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>Warrior</p></td></tr><tr><td class="confluenceTd"><p>5</p></td><td class="confluenceTd"><p>Warlock</p></td></tr><tr><td class="confluenceTd"><p>6</p></td><td class="confluenceTd"><p>Priest</p></td></tr><tr><td class="confluenceTd"><p>7</p></td><td class="confluenceTd"><p>Druid</p></td></tr><tr><td class="confluenceTd"><p>8</p></td><td class="confluenceTd"><p>Rogue</p></td></tr><tr><td class="confluenceTd"><p>9</p></td><td class="confluenceTd"><p>Hunter</p></td></tr><tr><td class="confluenceTd"><p>10</p></td><td class="confluenceTd"><p>Paladin</p></td></tr><tr><td class="confluenceTd"><p>11</p></td><td class="confluenceTd"><p>Shaman</p></td></tr><tr><td class="confluenceTd"><p>13</p></td><td class="confluenceTd"><p>Potion</p></td></tr></tbody></table></div><h3 id="spell_proc-SpellFamilyMask0">SpellFamilyMask0</h3><p>This field controls what spells' family flags can proc the triggered spell.</p><h3 id="spell_proc-SpellFamilyMask1">SpellFamilyMask1</h3><p><code>field-no-description|5</code></p><h3 id="spell_proc-SpellFamilyMask2">SpellFamilyMask2</h3><p><code>field-no-description|6</code></p><h3 id="spell_proc-typeMask">typeMask</h3><p><code>field-no-description|7</code></p><h3 id="spell_proc-spellTypeMask">spellTypeMask</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><strong>Event</strong></p></td><td class="confluenceTd"><p><strong>Bit</strong></p></td><td class="confluenceTd"><p><strong>Comment</strong></p></td></tr><tr><td class="confluenceTd"><p>PROC_SPELL_TYPE_NONE</p></td><td class="confluenceTd"><p>0x00000000</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_SPELL_TYPE_DAMAGE</p></td><td class="confluenceTd"><p>0x00000001</p></td><td class="confluenceTd"><p>damage type of spell</p></td></tr><tr><td class="confluenceTd"><p>PROC_SPELL_TYPE_HEAL</p></td><td class="confluenceTd"><p>0x00000002</p></td><td class="confluenceTd"><p>heal type of spell</p></td></tr><tr><td class="confluenceTd"><p>PROC_SPELL_TYPE_NO_DMG_HEAL</p></td><td class="confluenceTd"><p>0x00000004</p></td><td class="confluenceTd"><p>other spells</p></td></tr><tr><td class="confluenceTd"><p>PROC_SPELL_TYPE_MASK_ALL</p></td><td class="confluenceTd"><p>0x00000007</p></td><td class="confluenceTd"><p>All masks combined</p></td></tr></tbody></table></div><h3 id="spell_proc-spellPhaseMask">spellPhaseMask</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><strong>Event</strong></p></td><td class="confluenceTd"><p><strong>Bit</strong></p></td><td class="confluenceTd"><p><strong>Comment</strong></p></td></tr><tr><td class="confluenceTd"><p>PROC_SPELL_PHASE_NONE</p></td><td class="confluenceTd"><p>0x00000000</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_SPELL_PHASE_CAST</p></td><td class="confluenceTd"><p>0x00000001</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_SPELL_PHASE_HIT</p></td><td class="confluenceTd"><p>0x00000002</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_SPELL_PHASE_FINISH</p></td><td class="confluenceTd"><p>0x00000004</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_SPELL_PHASE_MASK_ALL</p></td><td class="confluenceTd"><p>0x00000007</p></td><td class="confluenceTd"><p>All masks combined</p></td></tr></tbody></table></div><h3 id="spell_proc-hitMask">hitMask</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><strong>Event</strong></p></td><td class="confluenceTd"><p><strong>Bit</strong></p></td><td class="confluenceTd"><p><strong>Comment</strong></p></td></tr><tr><td class="confluenceTd"><p>PROC_HIT_NONE</p></td><td class="confluenceTd"><p>0x00000000</p></td><td class="confluenceTd"><p>no value - PROC_HIT_NORMAL</p></td><td class="confluenceTd"><p>PROC_HIT_CRITICAL for TAKEN proc type, PROC_HIT_NORMAL</p></td><td class="confluenceTd"><p>PROC_HIT_CRITICAL</p></td><td class="confluenceTd"><p>PROC_HIT_ABSORB for DONE</p></td></tr><tr><td class="confluenceTd"><p>PROC_HIT_NORMAL</p></td><td class="confluenceTd"><p>0x00000001</p></td><td class="confluenceTd"><p>non-critical hits</p></td></tr><tr><td class="confluenceTd"><p>PROC_HIT_CRITICAL</p></td><td class="confluenceTd"><p>0x00000002</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_HIT_MISS</p></td><td class="confluenceTd"><p>0x00000004</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_HIT_FULL_RESIST</p></td><td class="confluenceTd"><p>0x00000008</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_HIT_DODGE</p></td><td class="confluenceTd"><p>0x00000010</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_HIT_PARRY</p></td><td class="confluenceTd"><p>0x00000020</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_HIT_BLOCK</p></td><td class="confluenceTd"><p>0x00000040</p></td><td class="confluenceTd"><p>partial or full block</p></td></tr><tr><td class="confluenceTd"><p>PROC_HIT_EVADE</p></td><td class="confluenceTd"><p>0x00000080</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_HIT_IMMUNE</p></td><td class="confluenceTd"><p>0x00000100</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_HIT_DEFLECT</p></td><td class="confluenceTd"><p>0x00000200</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_HIT_ABSORB</p></td><td class="confluenceTd"><p>0x00000400</p></td><td class="confluenceTd"><p>partial or full absorb</p></td></tr><tr><td class="confluenceTd"><p>PROC_HIT_REFLECT</p></td><td class="confluenceTd"><p>0x00000800</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_HIT_INTERRUPT</p></td><td class="confluenceTd"><p>0x00001000</p></td><td class="confluenceTd"><p>(not used atm)</p></td></tr><tr><td class="confluenceTd"><p>PROC_HIT_FULL_BLOCK</p></td><td class="confluenceTd"><p>0x00002000</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_HIT_MASK_ALL</p></td><td class="confluenceTd"><p>0x00002FFF</p></td><td class="confluenceTd"><p>All masks combined</p></td></tr></tbody></table></div><h3 id="spell_proc-attributesMask">attributesMask</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><strong>Event</strong></p></td><td class="confluenceTd"><p><strong>Bit</strong></p></td><td class="confluenceTd"><p><strong>Comment</strong></p></td></tr><tr><td class="confluenceTd"><p>PROC_ATTR_REQ_EXP_OR_HONOR</p></td><td class="confluenceTd"><p>0x0000010</p></td><td class="confluenceTd"><p> </p></td></tr></tbody></table></div><h3 id="spell_proc-ratePerMinute">ratePerMinute</h3><p>This field controls the times per minute that the spell should proc. If zero, then the value is taken from the DBC entry.</p><h3 id="spell_proc-chance">chance</h3><p>Custom chance for triggering, given in percentage.</p><h3 id="spell_proc-cooldown">cooldown</h3><p>Define hidden cooldowns on the spell, given in seconds. Also known as the proc's internal cooldown, or ICD.</p><h3 id="spell_proc-charges">charges</h3><p><code>field-no-description|14</code></p>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer">
                <section class="footer-body">
                    <p>Document generated by Confluence on Nov 07, 2014 22:00</p>
                </section>
            </div>
        </div>     </body>
</html>
