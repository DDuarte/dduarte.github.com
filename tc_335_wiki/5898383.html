<!DOCTYPE html>
<html>
    <head>
        <title>TrinityCore : C++ Code style</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">TrinityCore</a></span>
                            </li>
                                                    <li>
                                <span><a href="TrinityCore-Home_330427.html">TrinityCore Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="How-to_1703987.html">How-to</a></span>
                            </li>
                                                    <li>
                                <span><a href="Advanced_332236.html">Advanced</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            TrinityCore : C++ Code style
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
    
            Created by <span class='author'> yehonal</span> on Aug 06, 2013
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>From: <a href="http://www.trinitycore.org/f/topic/6-trinitycore-developing-standards/" class="external-link" rel="nofollow">http://www.trinitycore.org/f/topic/6-trinitycore-developing-standards/</a></p><p> </p><div class="post entry-content ">TrinityCore Development Standards<ul class="bbcol decimal" style="margin-left: 40.0px;"><li>Intro</li><li>Coding Standards</li><li>File naming &amp; hierarchy // todo</li></ul><br /><strong class="bbc">1. Intro</strong><br /><br /><strong class="bbc">Why do we need coding standards?</strong><br />It makes easier to maintain and read all the scripts related code and gives us more control over the code.In some cases it will be a safe guard against errors.<br /><br /><strong class="bbc">Why is it important for occasional developers/contributors?</strong><br />We only accept code that is written according to our developing standards. A properly written patch goes faster to core than unordered ones and makes the maintainers lifes easier.<br /><br /><strong class="bbc">2. Coding Standards</strong><br /><br /><strong class="bbc">Tab size / Indents</strong><br /><br />Code never contain tabs, instead we use spaces.<br />By tab size, we mean 4x spaces. Not 5, not 3.<br />Most sane development-tools have options to replace tabs with 4 spaces.<br /><br />Visual Studio:<br />Tools -&gt; Options: Text Editor -&gt; C++ -&gt; Tabs<br />Notepad++:<br />Settings -&gt; Preferences -&gt; Edit Components<br /><br /><strong class="bbc">Comments</strong><br /><br />Always comment code where it is not typical code repeated in many/all scripts and/or not self-explanatory what the code does.<br />A comment should either be placed directly above the code :<br /><blockquote><pre><span class="com" style="color: rgb(136,0,0);">//my comment</span></pre><pre><span class="kwd" style="color: rgb(0,0,136);">if</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">(</span><span class="pln">something </span><span class="pun" style="color: rgb(102,102,0);">==</span><span class="pln"> MY_CONSTANT</span><span class="pun" style="color: rgb(102,102,0);">)</span></pre></blockquote><br />or at code line 61 if this fits more natural in the code :<br /><blockquote><pre><span class="kwd" style="color: rgb(0,0,136);">if</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">(</span><span class="pln">something </span><span class="pun" style="color: rgb(102,102,0);">==</span><span class="pln"> MY_CONSTANT</span><span class="pun" style="color: rgb(102,102,0);">)</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">{</span></pre><pre><span class="pln"> a </span><span class="pun" style="color: rgb(102,102,0);">=</span><span class="pln"> b</span><span class="pun" style="color: rgb(102,102,0);">;</span><span class="pln"> </span><span class="com" style="color: rgb(136,0,0);">// My comment</span></pre></blockquote><br /><strong class="bbc">Whitespace</strong><br /><br />Do not file source code containing white space in end of line. Generally a no-no.<br />Do not fill parenthesis with whitespace. Place space in front, not after.<br /><br /><span style="color: rgb(255,0,0);">Wrong </span>:<br /><blockquote><pre><span class="kwd" style="color: rgb(0,0,136);">if</span><span class="pun" style="color: rgb(102,102,0);">(</span><span class="pln"> attack </span><span class="pun" style="color: rgb(102,102,0);">)</span></pre><pre><span class="kwd" style="color: rgb(0,0,136);">if</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">(</span><span class="pln"> attack </span><span class="pun" style="color: rgb(102,102,0);">)</span></pre></blockquote><br /><span style="color: rgb(46,139,87);">Correct </span>:<br /><blockquote><pre><span class="kwd" style="color: rgb(0,0,136);">if</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">(</span><span class="pln">attack</span><span class="pun" style="color: rgb(102,102,0);">)</span></pre></blockquote><br /><strong class="bbc">Brackets</strong><br /><br />We use symmetric brackets. One line blocks does not need brackets<br /><blockquote><pre><span class="kwd" style="color: rgb(0,0,136);">if</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">(</span><span class="pln">attack</span><span class="pun" style="color: rgb(102,102,0);">)</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">{</span></pre><pre><span class="pln"> me</span><span class="pun" style="color: rgb(102,102,0);">-&gt;</span><span class="typ" style="color: rgb(102,0,102);">DoA</span><span class="pun" style="color: rgb(102,102,0);">();</span></pre><pre><span class="pln"> me</span><span class="pun" style="color: rgb(102,102,0);">-&gt;</span><span class="typ" style="color: rgb(102,0,102);">DoB</span><span class="pun" style="color: rgb(102,102,0);">();</span></pre><pre><span class="pun" style="color: rgb(102,102,0);">}</span><span class="pln"> </span><span class="kwd" style="color: rgb(0,0,136);">else</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">{</span></pre><pre><span class="pln"> me</span><span class="pun" style="color: rgb(102,102,0);">-&gt;</span><span class="typ" style="color: rgb(102,0,102);">SelectA</span><span class="pun" style="color: rgb(102,102,0);">();</span></pre><pre><span class="pln"><span style="color: rgb(102,102,0);"> </span>me</span><span class="pun" style="color: rgb(102,102,0);">-&gt;</span><span class="typ" style="color: rgb(102,0,102);">SelectB</span><span class="pun" style="color: rgb(102,102,0);">();</span></pre><pre><span class="pun" style="color: rgb(102,102,0);">}</span></pre></blockquote><br />or<br /><br /><blockquote><pre><span class="kwd" style="color: rgb(0,0,136);">if</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">(</span><span class="pln">attack</span><span class="pun" style="color: rgb(102,102,0);">)</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">{</span></pre><pre><span class="pln"> me</span><span class="pun" style="color: rgb(102,102,0);">-&gt;</span><span class="typ" style="color: rgb(102,0,102);">DoA</span><span class="pun" style="color: rgb(102,102,0);">();</span></pre><pre><span class="pln"> me</span><span class="pun" style="color: rgb(102,102,0);">-&gt;</span><span class="typ" style="color: rgb(102,0,102);">DoB</span><span class="pun" style="color: rgb(102,102,0);">();</span></pre><pre><span class="pun" style="color: rgb(102,102,0);">}</span><span class="pln"> </span><span class="kwd" style="color: rgb(0,0,136);">else</span></pre><pre><span class="pln"> me</span><span class="pun" style="color: rgb(102,102,0);">-&gt;</span><span class="typ" style="color: rgb(102,0,102);">SelectA</span><span class="pun" style="color: rgb(102,102,0);">();</span></pre></blockquote><br /><strong class="bbc">Loop syntax</strong><br /><blockquote><pre><span class="kwd" style="color: rgb(0,0,136);">for</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">(</span><span class="pln">uint32 i </span><span class="pun" style="color: rgb(102,102,0);">=</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">0</span><span class="pun" style="color: rgb(102,102,0);">;</span><span class="pln"> i </span><span class="pun" style="color: rgb(102,102,0);">&lt;</span><span class="pln"> loopEnd</span><span class="pun" style="color: rgb(102,102,0);">;</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">++</span><span class="pln">i</span><span class="pun" style="color: rgb(102,102,0);">)</span></pre><pre><span class="pun" style="color: rgb(102,102,0);">{</span></pre><pre><span class="typ" style="color: rgb(102,0,102);"> DoSomething</span><span class="pun" style="color: rgb(102,102,0);">();</span></pre><pre><span class="typ" style="color: rgb(102,0,102);"> DoSomethingElse</span><span class="pun" style="color: rgb(102,102,0);">();</span></pre><pre><span class="pun" style="color: rgb(102,102,0);">}</span></pre><pre><span class="pln">uint32 i </span><span class="pun" style="color: rgb(102,102,0);">=</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">0</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre><pre><span class="kwd" style="color: rgb(0,0,136);">while</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">(</span><span class="pln">i </span><span class="pun" style="color: rgb(102,102,0);">&lt;</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">10</span><span class="pun" style="color: rgb(102,102,0);">)</span></pre><pre><span class="pun" style="color: rgb(102,102,0);">{</span></pre><pre><span class="typ" style="color: rgb(102,0,102);"> DoSomething</span><span class="pun" style="color: rgb(102,102,0);">();</span></pre><pre><span class="typ" style="color: rgb(102,0,102);"> DoSomethingElse</span><span class="pun" style="color: rgb(102,102,0);">();</span></pre><pre><span class="pun" style="color: rgb(102,102,0);"> ++</span><span class="pln">i</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre><pre><span class="pun" style="color: rgb(102,102,0);">}</span></pre><pre><span class="kwd" style="color: rgb(0,0,136);">do</span></pre><pre><span class="pun" style="color: rgb(102,102,0);">{</span></pre><pre><span class="typ" style="color: rgb(102,0,102);"> DoSomething</span><span class="pun" style="color: rgb(102,102,0);">();</span></pre><pre><span class="typ" style="color: rgb(102,0,102);"> DoSomethingElse</span><span class="pun" style="color: rgb(102,102,0);">();</span></pre><pre><span class="pun" style="color: rgb(102,102,0);"> --</span><span class="pln">i</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre><pre><span class="pun" style="color: rgb(102,102,0);">}</span><span class="pln"> </span><span class="kwd" style="color: rgb(0,0,136);">while</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">(</span><span class="pln">i </span><span class="pun" style="color: rgb(102,102,0);">&gt;</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">0</span><span class="pun" style="color: rgb(102,102,0);">);</span></pre></blockquote><div class="post entry-content ">Similar to if () blocks, one line statements do not need brackets<br /><br /><strong class="bbc">Magic numbers vs. Constants</strong><br /><br />Constants makes code easier to read and does also provide a degree of fail safe.<br /><span style="color: rgb(255,0,0);">Wrong </span>:</div><blockquote><pre><span class="kwd" style="color: rgb(0,0,136);">if</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">(</span><span class="pln">player</span><span class="pun" style="color: rgb(102,102,0);">-&gt;</span><span class="typ" style="color: rgb(102,0,102);">GetQuestStatus</span><span class="pun" style="color: rgb(102,102,0);">(</span><span class="lit" style="color: rgb(0,102,102);">10090</span><span class="pun" style="color: rgb(102,102,0);">)</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">==</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">1</span><span class="pun" style="color: rgb(102,102,0);">)</span></pre><pre><span class="pln"> me</span><span class="pun" style="color: rgb(102,102,0);">-&gt;</span><span class="typ" style="color: rgb(102,0,102);">RemoveFlag</span><span class="pun" style="color: rgb(102,102,0);">(</span><span class="lit" style="color: rgb(0,102,102);">58</span><span class="pun" style="color: rgb(102,102,0);">,</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">2</span><span class="pun" style="color: rgb(102,102,0);">);</span></pre></blockquote><br /><span style="color: rgb(46,139,87);">Correct </span>:<br /><blockquote><pre><span class="kwd" style="color: rgb(0,0,136);">if</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">(</span><span class="pln">player</span><span class="pun" style="color: rgb(102,102,0);">-&gt;</span><span class="typ" style="color: rgb(102,0,102);">GetQuestStatus</span><span class="pun" style="color: rgb(102,102,0);">(</span><span class="pln">QUEST_BEAT_UP</span><span class="pun" style="color: rgb(102,102,0);">)</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">==</span><span class="pln"> QUEST_STATUS_INCOMPLETE</span><span class="pun" style="color: rgb(102,102,0);">);</span><span class="pln"> </span></pre><pre><span class="pln"> me</span><span class="pun" style="color: rgb(102,102,0);">-&gt;</span><span class="typ" style="color: rgb(102,0,102);">RemoveFlag</span><span class="pun" style="color: rgb(102,102,0);">(</span><span class="pln">UNIT_FIELD_FLAGS</span><span class="pun" style="color: rgb(102,102,0);">,</span><span class="pln"> UNIT_FLAG_NON_ATTACKABLE</span><span class="pun" style="color: rgb(102,102,0);">);</span></pre></blockquote><br />Constants are either set as #define, or most preferred in a enum. If it does not exist, make one.<br /><br /><strong class="bbc">Enumeration vs. define</strong><br />It is strongly advised to avoid using #defines for constants, use either a const variable or an enum, if multiple variables can be grouped together<br />Enums must have a name. Separate constant on different enums depending on their type.<br /><span style="color: rgb(46,139,87);">Correct </span>:<br /><blockquote><pre><span class="kwd" style="color: rgb(0,0,136);">enum</span><span class="pln"> </span><span class="typ" style="color: rgb(102,0,102);">Spells</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">{</span><span class="pln"> </span></pre><pre><span class="pln"> SPELL_1 </span><span class="pun" style="color: rgb(102,102,0);">=</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">23444</span><span class="pun" style="color: rgb(102,102,0);">,</span></pre><pre><span class="pln"> SPELL_2 </span><span class="pun" style="color: rgb(102,102,0);">=</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">23233</span><span class="pun" style="color: rgb(102,102,0);">,</span></pre><pre><span class="pln"> H_SPELL_3 </span><span class="pun" style="color: rgb(102,102,0);">=</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">28345</span><span class="pun" style="color: rgb(102,102,0);">,</span></pre><pre><span class="pun" style="color: rgb(102,102,0);">};</span></pre></blockquote><br /><strong class="bbc">Standard constant name prefixes</strong><br /><br />Constant names have standarized prefixes :<br /><p class="citation">Quote</p><blockquote><p>SPELL_ : Spell id<br />NPC_ : Creature_template.entry<br />ITEM_ : Item_template.entry<br />GO_ : Gameobject_template.entry<br />QUEST_ : Quest_template.entry<br />SAY_ : Script_texts.entry (yell/normal say)<br />EMOTE_ : Same as above, just different prefix to clearly see its emote<br />EQUIP_ : Typically a item id(id from dbc, not _template)<br />MODEL_ : A creature model<br />H_XX : Heroic mode prefix (goes before the other prefix) XX is max man amount from mode. (OBSOLETE AS OF PATCH 3.2 WITH SpellDifficulty.dbc)<br />RAID_XX : Raid mode prefix (goes before the other prefix) XX is max man amount from mode. (OBSOLETE AS OF PATCH 3.2 WITH SpellDifficulty.dbc)<br />EVENT_ : Event/Encounter identifier for instances<br />DATA_ : Identifiers in instance used for GUIDs/data not being event/encounter<br />ACHIEV_ : Achievement id</p></blockquote><br /><span style="color: rgb(46,139,87);">Correct </span>:<br /><blockquote><p><span class="pln">SPELL_ENRAGE</span></p><p><span class="pln">H_XX_SPELL_ENRAGE</span></p><p><span class="pln">EVENT_ILLIDAN</span></p><p><span class="pln">DATA_ILLIDAN</span></p><p><span class="pln">ACHIEV_OH_NOVOS</span></p></blockquote><br /><strong class="bbc">Naming of variables and functions</strong><br />No matter what, DO NOT USE HUNGARIAN NOTATION IN VARIABLE NAMES<br /><br />for public/protected members or global variables:<br /><blockquote><pre><span class="pln">uint64 s</span><span class="typ" style="color: rgb(102,0,102);">omeGuid</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre><pre><span class="pln">uint32 s</span><span class="typ" style="color: rgb(102,0,102);">hadowBoltTimer</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre><pre><span class="pln">uint8 s</span><span class="typ" style="color: rgb(102,0,102);">hadowBoltCount</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre><pre><span class="kwd" style="color: rgb(0,0,136);">bool</span><span class="pln"> i</span><span class="typ" style="color: rgb(102,0,102);">sEnraged</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre><pre><span class="kwd" style="color: rgb(0,0,136);">float</span><span class="pln"> h</span><span class="typ" style="color: rgb(102,0,102);">eightData</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre></blockquote><br />for private members:<br /><blockquote><pre><span class="pln">uint64 _someGuid</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre><pre><span class="pln">uint32 _mapEntry</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre><pre><span class="pln">uint8 _count</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre><pre><span class="kwd" style="color: rgb(0,0,136);">bool</span><span class="pln"> _isDead</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre><pre><span class="kwd" style="color: rgb(0,0,136);">float</span><span class="pln"> _heightData</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre></blockquote><br />Methods are always UpperCamelCase and their parameters in lowerCamelCase, just like local variables<br /><blockquote><pre><span class="kwd" style="color: rgb(0,0,136);">void</span><span class="pln"> </span><span class="typ" style="color: rgb(102,0,102);">DoCrap</span><span class="pun" style="color: rgb(102,102,0);">(</span><span class="pln">uint32 someNumber</span><span class="pun" style="color: rgb(102,102,0);">)</span></pre><pre><span class="pun" style="color: rgb(102,102,0);">{</span><span class="pln"> </span></pre><pre><span class="pln"> uint32 someOtherNumber </span><span class="pun" style="color: rgb(102,102,0);">=</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">5</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre><pre><span class="pun" style="color: rgb(102,102,0);">}</span></pre></blockquote><br />Remember to use 'f' after float values when declaring them to avoid compile warnings<br /><blockquote><pre><span class="kwd" style="color: rgb(0,0,136);">float</span><span class="pln"> </span><span class="typ" style="color: rgb(102,0,102);">PosX</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">=</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">234.3456f</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre></blockquote><br />Defining an array of structs:<br /><blockquote><pre><span class="typ" style="color: rgb(102,0,102);">Position</span><span class="pln"> </span><span class="kwd" style="color: rgb(0,0,136);">const</span><span class="pln"> </span><span class="typ" style="color: rgb(102,0,102);">PosMobs</span><span class="pun" style="color: rgb(102,102,0);">[</span><span class="lit" style="color: rgb(0,102,102);">5</span><span class="pun" style="color: rgb(102,102,0);">]</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">=</span></pre><pre><span class="pun" style="color: rgb(102,102,0);">{</span></pre><pre><span class="pun"> </span><span class="pun" style="color: rgb(102,102,0);">{-</span><span class="lit" style="color: rgb(0,102,102);">724.12f</span><span class="pun" style="color: rgb(102,102,0);">,</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">-</span><span class="lit" style="color: rgb(0,102,102);">176.64f</span><span class="pun" style="color: rgb(102,102,0);">,</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">430.03f</span><span class="pun" style="color: rgb(102,102,0);">,</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">2.543f</span><span class="pun" style="color: rgb(102,102,0);">},</span></pre><pre><span class="pun"> </span><span class="pun" style="color: rgb(102,102,0);">{-</span><span class="lit" style="color: rgb(0,102,102);">766.70f</span><span class="pun" style="color: rgb(102,102,0);">,</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">-</span><span class="lit" style="color: rgb(0,102,102);">225.03f</span><span class="pun" style="color: rgb(102,102,0);">,</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">430.50f</span><span class="pun" style="color: rgb(102,102,0);">,</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">1.710f</span><span class="pun" style="color: rgb(102,102,0);">},</span></pre><pre><span class="pun"> </span><span class="pun" style="color: rgb(102,102,0);">{-</span><span class="lit" style="color: rgb(0,102,102);">729.54f</span><span class="pun" style="color: rgb(102,102,0);">,</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">-</span><span class="lit" style="color: rgb(0,102,102);">186.26f</span><span class="pun" style="color: rgb(102,102,0);">,</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">430.12f</span><span class="pun" style="color: rgb(102,102,0);">,</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">1.902f</span><span class="pun" style="color: rgb(102,102,0);">},</span></pre><pre><span class="pun"> </span><span class="pun" style="color: rgb(102,102,0);">{-</span><span class="lit" style="color: rgb(0,102,102);">756.01f</span><span class="pun" style="color: rgb(102,102,0);">,</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">-</span><span class="lit" style="color: rgb(0,102,102);">219.23f</span><span class="pun" style="color: rgb(102,102,0);">,</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">430.50f</span><span class="pun" style="color: rgb(102,102,0);">,</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">2.369f</span><span class="pun" style="color: rgb(102,102,0);">},</span></pre><pre><span class="pun"> </span><span class="pun" style="color: rgb(102,102,0);">{-</span><span class="lit" style="color: rgb(0,102,102);">798.01f</span><span class="pun" style="color: rgb(102,102,0);">,</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">-</span><span class="lit" style="color: rgb(0,102,102);">227.24f</span><span class="pun" style="color: rgb(102,102,0);">,</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">429.84f</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">,</span><span class="lit" style="color: rgb(0,102,102);">1.446f</span><span class="pun" style="color: rgb(102,102,0);">},</span></pre><pre><span class="pun" style="color: rgb(102,102,0);">};</span></pre></blockquote><br /><strong class="bbc">WorldObjects</strong><br /><br />We are used to define WorldObjects in this way :<br /><blockquote><pre><span class="typ" style="color: rgb(102,0,102);">GameObject</span><span class="pun" style="color: rgb(102,102,0);">*</span><span class="pln"> go</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre><pre><span class="typ" style="color: rgb(102,0,102);">Creature</span><span class="pun" style="color: rgb(102,102,0);">*</span><span class="pln"> creature</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre><pre><span class="typ" style="color: rgb(102,0,102);">Item</span><span class="pun" style="color: rgb(102,102,0);">*</span><span class="pln"> item</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre><pre><span class="typ" style="color: rgb(102,0,102);">Player</span><span class="pun" style="color: rgb(102,102,0);">*</span><span class="pln"> player</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre><pre><span class="typ" style="color: rgb(102,0,102);">Unit</span><span class="pun" style="color: rgb(102,102,0);">*</span><span class="pln"> unit</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre></blockquote>Keep in mind we never use multiple declarations with pointers<br /><blockquote><pre><span class="typ" style="color: rgb(102,0,102);">Something</span><span class="pun" style="color: rgb(102,102,0);">*</span><span class="pln"> obj1</span><span class="pun" style="color: rgb(102,102,0);">,</span><span class="pln"> </span><span class="pun" style="color: rgb(102,102,0);">*</span><span class="pln">obj2</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre></blockquote><div class="post entry-content ">The proper way to do this is</div><blockquote><pre><span class="typ" style="color: rgb(102,0,102);">Something</span><span class="pun" style="color: rgb(102,102,0);">*</span><span class="pln"> obj1</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre><pre><span class="typ" style="color: rgb(102,0,102);">Something</span><span class="pun" style="color: rgb(102,102,0);">*</span><span class="pln"> obj2</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre></blockquote><div class="post entry-content ">References are defined in a similar way (&amp; sticked to the type)</div><blockquote><pre><span class="typ" style="color: rgb(102,0,102);">Creature</span><span class="pun" style="color: rgb(102,102,0);">&amp;</span><span class="pln"> creature</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre></blockquote><br />Never define Creature* me; in a creature script!<br />'me' is the pointer to the scripted creature<br /><br /><strong class="bbc">Defining const variables</strong><br />const keyword should always go after type name<br /><blockquote><pre><span class="typ" style="color: rgb(102,0,102);"><br /></span></pre><pre><span class="typ" style="color: rgb(102,0,102);">Player</span><span class="pln"> </span><span class="kwd" style="color: rgb(0,0,136);">const</span><span class="pun" style="color: rgb(102,102,0);">*</span><span class="pln"> player</span><span class="pun" style="color: rgb(102,102,0);">;</span><span class="pln"> </span><span class="com" style="color: rgb(136,0,0);">// player object is constant</span></pre><pre><span class="typ" style="color: rgb(102,0,102);">Unit</span><span class="pun" style="color: rgb(102,102,0);">*</span><span class="pln"> </span><span class="kwd" style="color: rgb(0,0,136);">const</span><span class="pln"> unit</span><span class="pun" style="color: rgb(102,102,0);">;</span><span class="pln"> </span><span class="com" style="color: rgb(136,0,0);">// pointer to the unit is constant</span></pre><pre><span class="typ" style="color: rgb(102,0,102);">SpellEntry</span><span class="pln"> </span><span class="kwd" style="color: rgb(0,0,136);">const</span><span class="pun" style="color: rgb(102,102,0);">*</span><span class="pln"> </span><span class="kwd" style="color: rgb(0,0,136);">const</span><span class="pln"> spell</span><span class="pun" style="color: rgb(102,102,0);">;</span><span class="pln"> </span><span class="com" style="color: rgb(136,0,0);">// both spell and pointer to spell are constant</span></pre></blockquote><br /><strong class="bbc">Static variables</strong><br />static keyword always should be put as first<br /><blockquote><pre><span class="kwd" style="color: rgb(0,0,136);">static</span><span class="pln"> uint32 someVar </span><span class="pun" style="color: rgb(102,102,0);">=</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">5</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre><pre><span class="kwd" style="color: rgb(0,0,136);">static</span><span class="pln"> </span><span class="kwd" style="color: rgb(0,0,136);">float</span><span class="pln"> </span><span class="kwd" style="color: rgb(0,0,136);">const</span><span class="pln"> otherVar </span><span class="pun" style="color: rgb(102,102,0);">=</span><span class="pln"> </span><span class="lit" style="color: rgb(0,102,102);">1.0f</span><span class="pun" style="color: rgb(102,102,0);">;</span></pre></blockquote><br /><strong class="bbc">Further reading</strong><br /><br /><a class="external-link" href="http://google-styleguide.googlecode.com/svn/trunk/cppguide.xml" style="text-decoration: underline;" title="External link" rel="nofollow">Google C++ Style Guide</a><br /><br />(ignore code style advice that were already covered by this topic; it's still worth reading)<br /><br /><br /><em class="bbc">Thanks to ScriptDev2 for the original guide.</em> </div>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer">
                <section class="footer-body">
                    <p>Document generated by Confluence on Nov 07, 2014 22:00</p>
                </section>
            </div>
        </div>     </body>
</html>
