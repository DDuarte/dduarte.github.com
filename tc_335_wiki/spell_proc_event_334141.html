<!DOCTYPE html>
<html>
    <head>
        <title>TrinityCore : spell_proc_event</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">TrinityCore</a></span>
                            </li>
                                                    <li>
                                <span><a href="TrinityCore-Home_330427.html">TrinityCore Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Databases_10682459.html">Databases</a></span>
                            </li>
                                                    <li>
                                <span><a href="World_331623.html">World</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            TrinityCore : spell_proc_event
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
    
            Created by <span class='author'> kingpin</span>, last modified by <span class='editor'> aokromes</span> on Aug 02, 2014
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><code><code><a href="World_331623.html">Back-to:World</a></code></code></p><p><strong>The `spell_proc_event` table</strong></p><p>This table holds information on what events (or procs) certain spells are activated. All spells in this table must have apply a SPELL_AURA_PROC_TRIGGER_SPELL (42) aura. Any entries in this table will overwrite the existing proc settings in the spell's DBC entry.</p><p><strong>Structure</strong></p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><strong>Field</strong></p></td><td class="confluenceTd"><p><strong>Type</strong></p></td><td class="confluenceTd"><p><strong>Attributes</strong></p></td><td class="confluenceTd"><p><strong>Key</strong></p></td><td class="confluenceTd"><p><strong>Null</strong></p></td><td class="confluenceTd"><p><strong>Default</strong></p></td><td class="confluenceTd"><p><strong>Extra</strong></p></td><td class="confluenceTd"><p><strong>Comment</strong></p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_event_334141.html">entry</a></p></td><td class="confluenceTd"><p>mediumint(8)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p>PRI</p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>Unique</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_event_334141.html">SchoolMask</a></p></td><td class="confluenceTd"><p>tinyint(4)</p></td><td class="confluenceTd"><p>signed</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_event_334141.html">SpellFamilyName</a></p></td><td class="confluenceTd"><p>smallint(5)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_event_334141.html">SpellFamilyMask0</a></p></td><td class="confluenceTd"><p>int(10)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_event_334141.html">SpellFamilyMask1</a></p></td><td class="confluenceTd"><p>int(10)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_event_334141.html">SpellFamilyMask2</a></p></td><td class="confluenceTd"><p>int(10)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_event_334141.html">procFlags</a></p></td><td class="confluenceTd"><p>int(10)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_event_334141.html">procEx</a></p></td><td class="confluenceTd"><p>int(10)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_event_334141.html">ppmRate</a></p></td><td class="confluenceTd"><p>float</p></td><td class="confluenceTd"><p>signed</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_event_334141.html">CustomChance</a></p></td><td class="confluenceTd"><p>float</p></td><td class="confluenceTd"><p>signed</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p><a href="spell_proc_event_334141.html">Cooldown</a></p></td><td class="confluenceTd"><p>int(10)</p></td><td class="confluenceTd"><p>unsigned</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NO</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr></tbody></table></div><p><strong>Description of the fields</strong></p><h3 id="spell_proc_event-entry">entry</h3><p>The <a class="createlink" href="/pages/createpage.action?spaceKey=tc&amp;title=spell.dbc+tc2&amp;linkCreation=true&amp;fromPageId=334141">spell ID</a> that is capable to proc on an event.</p><h3 id="spell_proc_event-SchoolMask">SchoolMask</h3><p>This field contains a bitmask that controls on what types of spell damages the proc can be triggered. For example if an aura procs only when the unit it is casted upon is hit by shadow spells (spell 34914). To combine spell schools, just add the bit values.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>School ID</p></th><th class="confluenceTh"><p>Bit</p></th><th class="confluenceTh"><p>Name</p></th></tr><tr><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>1</p></td><td class="confluenceTd"><p>Physical</p></td></tr><tr><td class="confluenceTd"><p>1</p></td><td class="confluenceTd"><p>2</p></td><td class="confluenceTd"><p>Holy</p></td></tr><tr><td class="confluenceTd"><p>2</p></td><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>Fire</p></td></tr><tr><td class="confluenceTd"><p>3</p></td><td class="confluenceTd"><p>8</p></td><td class="confluenceTd"><p>Nature</p></td></tr><tr><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>16</p></td><td class="confluenceTd"><p>Frost</p></td></tr><tr><td class="confluenceTd"><p>5</p></td><td class="confluenceTd"><p>32</p></td><td class="confluenceTd"><p>Shadow</p></td></tr><tr><td class="confluenceTd"><p>6</p></td><td class="confluenceTd"><p>64</p></td><td class="confluenceTd"><p>Arcane</p></td></tr></tbody></table></div><h3 id="spell_proc_event-SpellFamilyName">SpellFamilyName</h3><p>This field controls what family name spells can proc the triggered spell.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>ID</p></th><th class="confluenceTh"><p>Family Name</p></th></tr><tr><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>Generic</p></td></tr><tr><td class="confluenceTd"><p>3</p></td><td class="confluenceTd"><p>Mage</p></td></tr><tr><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>Warrior</p></td></tr><tr><td class="confluenceTd"><p>5</p></td><td class="confluenceTd"><p>Warlock</p></td></tr><tr><td class="confluenceTd"><p>6</p></td><td class="confluenceTd"><p>Priest</p></td></tr><tr><td class="confluenceTd"><p>7</p></td><td class="confluenceTd"><p>Druid</p></td></tr><tr><td class="confluenceTd"><p>8</p></td><td class="confluenceTd"><p>Rogue</p></td></tr><tr><td class="confluenceTd"><p>9</p></td><td class="confluenceTd"><p>Hunter</p></td></tr><tr><td class="confluenceTd"><p>10</p></td><td class="confluenceTd"><p>Paladin</p></td></tr><tr><td class="confluenceTd"><p>11</p></td><td class="confluenceTd"><p>Shaman</p></td></tr><tr><td class="confluenceTd"><p>13</p></td><td class="confluenceTd"><p>Potion</p></td></tr><tr><td class="confluenceTd"><p>15</p></td><td class="confluenceTd"><p>Death Knight</p></td></tr></tbody></table></div><h3 id="spell_proc_event-SpellFamilyMask0">SpellFamilyMask0</h3><p>This field controls what spells' family flags can proc the triggered spell.</p><h3 id="spell_proc_event-SpellFamilyMask1">SpellFamilyMask1</h3><p><code>field-no-description|5</code></p><h3 id="spell_proc_event-SpellFamilyMask2">SpellFamilyMask2</h3><p><code>field-no-description|6</code></p><h3 id="spell_proc_event-procFlags">procFlags</h3><p>A bitmask controlling what events trigger the spell. To combine possible events, add the proc bits together.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><strong>Event</strong></p></td><td class="confluenceTd"><p><strong>Bit</strong></p></td><td class="confluenceTd"><p><strong>Comment</strong></p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_NONE</p></td><td class="confluenceTd"><p>0x00000000</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_KILLED</p></td><td class="confluenceTd"><p>0x00000001</p></td><td class="confluenceTd"><p>Killed by agressor</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_KILL_AND_GET_XP</p></td><td class="confluenceTd"><p>0x00000002</p></td><td class="confluenceTd"><p>Kill that yields experience or honor</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_SUCCESSFUL_MILEE_HIT</p></td><td class="confluenceTd"><p>0x00000004</p></td><td class="confluenceTd"><p>Successful melee attack</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_TAKEN_MELEE_HIT</p></td><td class="confluenceTd"><p>0x00000008</p></td><td class="confluenceTd"><p>Taken damage from melee strike hit</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_SUCCESSFUL_MELEE_SPELL_HIT</p></td><td class="confluenceTd"><p>0x00000010</p></td><td class="confluenceTd"><p>Successful attack by Spell that use melee weapon</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_TAKEN_MELEE_SPELL_HIT</p></td><td class="confluenceTd"><p>0x00000020</p></td><td class="confluenceTd"><p>Taken damage by Spell that use melee weapon</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_SUCCESSFUL_RANGED_HIT</p></td><td class="confluenceTd"><p>0x00000040</p></td><td class="confluenceTd"><p>Successful Ranged attack (all ranged attack deal as spell so newer set <img class="emoticon emoticon-sad" src="images/icons/emoticons/sad.png" data-emoticon-name="sad" alt="(sad)"/> )</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_TAKEN_RANGED_HIT</p></td><td class="confluenceTd"><p>0x00000080</p></td><td class="confluenceTd"><p>Taken damage from ranged attack (all ranged attack deal as spell so newer set <img class="emoticon emoticon-sad" src="images/icons/emoticons/sad.png" data-emoticon-name="sad" alt="(sad)"/> )</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_SUCCESSFUL_RANGED_SPELL_HIT</p></td><td class="confluenceTd"><p>0x00000100</p></td><td class="confluenceTd"><p>Successful Ranged attack by Spell that use ranged weapon</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_TAKEN_RANGED_SPELL_HIT</p></td><td class="confluenceTd"><p>0x00000200</p></td><td class="confluenceTd"><p>Taken damage by Spell that use ranged weapon</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_SUCCESSFUL_POSITIVE_AOE_HIT</p></td><td class="confluenceTd"><p>0x00000400</p></td><td class="confluenceTd"><p>Successful AoE (not 100% sure unused)</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_TAKEN_POSITIVE_AOE</p></td><td class="confluenceTd"><p>0x00000800</p></td><td class="confluenceTd"><p>Taken AoE (not 100% sure unused)</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_SUCCESSFUL_AOE_SPELL_HIT</p></td><td class="confluenceTd"><p>0x00001000</p></td><td class="confluenceTd"><p>Successful AoE damage spell hit (not 100% sure unused)</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_TAKEN_AOE_SPELL_HIT</p></td><td class="confluenceTd"><p>0x00002000</p></td><td class="confluenceTd"><p>Taken AoE damage spell hit (not 100% sure unused)</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_SUCCESSFUL_POSITIVE_SPELL</p></td><td class="confluenceTd"><p>0x00004000</p></td><td class="confluenceTd"><p>Successful cast positive spell (by default only on healing)</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_TAKEN_POSITIVE_SPELL</p></td><td class="confluenceTd"><p>0x00008000</p></td><td class="confluenceTd"><p>Taken positive spell hit (by default only on healing)</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_SUCCESSFUL_NEGATIVE_SPELL_HIT</p></td><td class="confluenceTd"><p>0x00010000</p></td><td class="confluenceTd"><p>Successful negative spell cast (by default only on damage)</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_TAKEN_NEGATIVE_SPELL_HIT</p></td><td class="confluenceTd"><p>0x00020000</p></td><td class="confluenceTd"><p>Taken negative spell (by default only on damage)</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_ON_DO_PERIODIC</p></td><td class="confluenceTd"><p>0x00040000</p></td><td class="confluenceTd"><p>Successful do periodic (damage / healing determined from 14-17 flags)</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_ON_TAKE_PERIODIC</p></td><td class="confluenceTd"><p>0x00080000</p></td><td class="confluenceTd"><p>Taken spell periodic (damage / healing determined from 14-17 flags)</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_TAKEN_ANY_DAMAGE</p></td><td class="confluenceTd"><p>0x00100000</p></td><td class="confluenceTd"><p>Taken any damage</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_ON_TRAP_ACTIVATION</p></td><td class="confluenceTd"><p>0x00200000</p></td><td class="confluenceTd"><p>On trap activation</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_TAKEN_OFFHAND_HIT</p></td><td class="confluenceTd"><p>0x00400000</p></td><td class="confluenceTd"><p>Taken off-hand melee attacks(not used)</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_SUCCESSFUL_OFFHAND_HIT</p></td><td class="confluenceTd"><p>0x00800000</p></td><td class="confluenceTd"><p>Successful off-hand melee attacks</p></td></tr><tr><td class="confluenceTd"><p>PROC_FLAG_DEATH</p></td><td class="confluenceTd"><p>0x01000000</p></td><td class="confluenceTd"><p>Died in any way</p></td></tr></tbody></table></div><h2 id="spell_proc_event-procEx">procEx</h2><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><strong>Name</strong></p></td><td class="confluenceTd"><p><strong>Bit</strong></p></td><td class="confluenceTd"><p><strong>Comment</strong></p></td></tr><tr><td class="confluenceTd"><p>PROC_EX_NONE</p></td><td class="confluenceTd"><p>0x0000000</p></td><td class="confluenceTd"><p>If none can tigger on Hit/Crit only (passive spells MUST defined by SpellFamily flag)</p></td></tr><tr><td class="confluenceTd"><p>PROC_EX_NORMAL_HIT</p></td><td class="confluenceTd"><p>0x0000001</p></td><td class="confluenceTd"><p>If set only from normal hit (only damage spells)</p></td></tr><tr><td class="confluenceTd"><p>PROC_EX_CRITICAL_HIT</p></td><td class="confluenceTd"><p>0x0000002</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_EX_MISS</p></td><td class="confluenceTd"><p>0x0000004</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_EX_RESIST</p></td><td class="confluenceTd"><p>0x0000008</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_EX_DODGE</p></td><td class="confluenceTd"><p>0x0000010</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_EX_PARRY</p></td><td class="confluenceTd"><p>0x0000020</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_EX_BLOCK</p></td><td class="confluenceTd"><p>0x0000040</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_EX_EVADE</p></td><td class="confluenceTd"><p>0x0000080</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_EX_IMMUNE</p></td><td class="confluenceTd"><p>0x0000100</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_EX_DEFLECT</p></td><td class="confluenceTd"><p>0x0000200</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_EX_ABSORB</p></td><td class="confluenceTd"><p>0x0000400</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_EX_REFLECT</p></td><td class="confluenceTd"><p>0x0000800</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_EX_INTERRUPT</p></td><td class="confluenceTd"><p>0x0001000</p></td><td class="confluenceTd"><p>Melee hit result can be Interrupt (not used)</p></td></tr><tr><td class="confluenceTd"><p>PROC_EX_FULL_BLOCK</p></td><td class="confluenceTd"><p>0x0002000</p></td><td class="confluenceTd"><p>Block all attack damage</p></td></tr><tr><td class="confluenceTd"><p>PROC_EX_RESERVED2</p></td><td class="confluenceTd"><p>0x0004000</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_EX_NOT_ACTIVE_SPELL</p></td><td class="confluenceTd"><p>0x0008000</p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>PROC_EX_EX_TRIGGER_ALWAYS</p></td><td class="confluenceTd"><p>0x0010000</p></td><td class="confluenceTd"><p>If set trigger always ( no matter another flags) used for drop charges</p></td></tr><tr><td class="confluenceTd"><p>PROC_EX_EX_ONE_TIME_TRIGGER</p></td><td class="confluenceTd"><p>0x0020000</p></td><td class="confluenceTd"><p>If set trigger always but only one time</p></td></tr><tr><td class="confluenceTd"><p>PROC_EX_ONLY_ACTIVE_SPELL</p></td><td class="confluenceTd"><p>0x0040000</p></td><td class="confluenceTd"><p>Spell has to do damage/heal to proc</p></td></tr></tbody></table></div><h2 id="spell_proc_event-ppmRate">ppmRate</h2><p>This field controls the times per minute that the spell should proc. If zero, then the value is taken from the DBC entry.</p><h2 id="spell_proc_event-CustomChance">CustomChance</h2><p>Custom chance for triggering, given in percentage.</p><h2 id="spell_proc_event-Cooldown">Cooldown</h2><p>Define hidden cooldowns on the spell, given in seconds. Also known as the proc's internal cooldown, or ICD.</p>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer">
                <section class="footer-body">
                    <p>Document generated by Confluence on Nov 07, 2014 22:00</p>
                </section>
            </div>
        </div>     </body>
</html>
